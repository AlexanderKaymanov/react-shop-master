{"version":3,"sources":["components/Header.js","components/Footer.js","components/Preloader.js","components/GoodsItem.js","components/GoodsList.js","components/Cart.js","components/BasketItem.js","components/BasketList.js","components/Alert.js","components/Shop.js","config.js","App.js","index.js"],"names":["Header","className","href","id","Footer","Date","getFullYear","Preloader","GoodsItem","props","name","description","price","full_background","addToBasket","Function","prototype","src","alt","onClick","style","fontSize","GoodsList","goods","length","map","item","Cart","quantity","handleBasketShow","BasketItem","removeFromBasket","incQuantity","decQuantity","BasketList","order","totalPrice","reduce","sum","el","Alert","closeAlert","useEffect","timerId","setTimeout","clearTimeout","Shop","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setBasketShow","alertName","setAlertName","fetch","headers","process","then","response","json","data","featured","itemIndex","findIndex","orderItem","newItem","newOrder","index","itemId","filter","newQuantity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fc3c7118.chunk.js","sourcesContent":["function Header() {\n  return (\n      <nav className='green darken-1'>\n          <div className='nav-wrapper'>\n              <a href='https://alexanderkaymanov.github.io/react-shop-master/' className='brand-logo'>\n                  React Shop\n              </a>\n              <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n            <li><a href=\"!#\">Repo</a></li>\n        </ul>\n        </div>\n    </nav>\n  );\n}\n\nexport { Header };\n","function Footer() {\n  return <footer className=\"page-footer green lighten-4\">\n    <div className=\"footer-copyright\">\n      <div className=\"container\">\n      © {new Date().getFullYear()} Copyright Text\n      <a className=\"grey-text text-lighten-4 right\" href=\"#!\">Repo</a>\n      </div>\n    </div>\n  </footer>\n}\n\nexport { Footer };\n","function Preloader() {\n  return (\n    <div className=\"progress\">\n      <div className=\"indeterminate\"></div>\n    </div>);\n}\n\nexport { Preloader };\n","function GoodsItem(props) {\n  const {\n    id,\n    name,\n    description,\n    price,\n    full_background,\n    addToBasket = Function.prototype\n  } = props;\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-image\">\n        <img src={full_background} alt={name} />\n      </div>\n      <div className=\"card-content\">\n        <span className=\"card-title\">{name}</span>\n        <p>{description}</p>\n      </div>\n      <div className=\"card-action\">\n        <button className=\"btn\" onClick={() => addToBasket({\n          id,\n          name,\n          price\n        })}>Купить</button>\n        <span className=\"right\" style={{ fontSize: '1.5rem' }}>{price} руб.</span>\n      </div>\n    </div>\n  );\n}\n\nexport { GoodsItem };\n","import { GoodsItem } from './GoodsItem';\n\nfunction GoodsList(props) {\n  const { goods = [], addToBasket = Function.prototype } = props;\n\n  if (!goods.length) {\n    return (\n      <h3>Ничего здесь нет!</h3>\n    );\n  }\n\n  return (\n    <div className=\"goods\">\n      {goods.map(item => (\n        <GoodsItem key={item.id} {...item} addToBasket={addToBasket} />\n      ))}\n    </div>\n  );\n}\n\nexport { GoodsList };\n","function Cart(props) {\n  const {quantity = 0, handleBasketShow = Function.prototype} = props;\n\n  return (\n    <div className=\"cart blue darken-4 white-text\" onClick={handleBasketShow}>\n      <i className=\"material-icons\">shopping_cart</i>\n      {quantity ? <span className=\"cart-quantity\">{quantity}</span> : null}\n    </div>\n  );\n}\n\nexport { Cart };\n","function BasketItem(props) {\n  const {\n    id,\n    name,\n    price,\n    quantity,\n    removeFromBasket = Function.prototype,\n    incQuantity = Function.prototype,\n    decQuantity = Function.prototype\n  } = props;\n\n  return (\n    <li className=\"collection-item\">\n      {name}{' '}\n      <i\n        className='material-icons basket-quantity'\n        onClick={() => decQuantity(id)}\n      >\n        remove\n      </i>{' '}\n      x{quantity}{' '}\n      <i\n        className='material-icons basket-quantity'\n        onClick={() => incQuantity(id)}\n      >\n        add\n      </i>{' '}\n      = {price * quantity} руб.\n      <span\n        className='secondary-content'\n        onClick={() => removeFromBasket(id)}\n      >\n        <i className='material-icons basket-delete'>close</i>\n      </span>\n    </li>\n  );\n}\n\nexport { BasketItem };\n","import { BasketItem } from './BasketItem';\n\nfunction BasketList(props) {\n  const {\n    order = [],\n    handleBasketShow = Function.prototype,\n    removeFromBasket = Function.prototype,\n    incQuantity,\n    decQuantity\n  } = props;\n\n  const totalPrice = order.reduce((sum, el) => {\n    return (sum + el.price * el.quantity);\n  }, 0);\n\n  return (\n    <ul className=\"collection basket-list\">\n      <li className=\"collection-item active\">\n        Корзина\n      </li>\n      {\n        order.length ? order.map(item => (\n          <BasketItem\n            key={item.id}\n            removeFromBasket={removeFromBasket}\n            incQuantity={incQuantity}\n            decQuantity={decQuantity}\n            {...item}\n          />\n        )) : <li className=\"collection-item\">Корзина пуста</li>\n      }\n      <li className=\"collection-item active\">\n        Общая стоимость: {totalPrice} руб.\n      </li>\n      <li className=\"collection-item\">\n        <button className=\"btn btn-small\">Оформить</button>\n      </li>\n      <i\n        className='material-icons basket-close'\n        onClick={handleBasketShow}\n      >\n        close\n      </i>\n    </ul>\n  );\n}\n\nexport { BasketList };\n","import { useEffect } from 'react';\n\nfunction Alert(props) {\n  const { name = '', closeAlert = Function.prototype } = props;\n\n  useEffect(() => {\n    const timerId = setTimeout(closeAlert, 3000);\n    return (() => {\n      clearTimeout(timerId);\n    });\n    // eslint-disable-next-line\n  }, [name]);\n  return (\n    <div className=\"\" id=\"toast-container\">\n      <div className=\"toast\">{name} добавлен(а)(ы) в корзину</div>\n    </div>\n  );\n}\n\nexport { Alert }\n","import { useState, useEffect } from 'react';\nimport { API_KEY, API_URL } from '../config';\n\nimport { Preloader } from './Preloader';\nimport { GoodsList } from './GoodsList';\nimport { Cart } from './Cart';\nimport { BasketList } from './BasketList';\nimport {Alert} from './Alert';\n\nfunction Shop() {\n  const [goods, setGoods] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [order, setOrder] = useState([]);\n  const [isBasketShow, setBasketShow] = useState(false);\n  const [alertName, setAlertName] = useState('');\n\n  const addToBasket = (item) => {\n    const itemIndex = order.findIndex(orderItem => orderItem.id === item.id);\n\n    if (itemIndex < 0) {\n      const newItem = {\n        ...item,\n        quantity: 1\n      }\n      setOrder([...order, newItem]);\n    } else {\n      const newOrder = order.map((orderItem, index) => {\n        if (index === itemIndex) {\n          return {\n            ...orderItem,\n            quantity: orderItem.quantity + 1\n          }\n        } else {\n          return orderItem;\n        }\n      });\n\n      setOrder(newOrder);\n    }\n    setAlertName(item.name);\n  };\n\n  const removeFromBasket = (itemId) => {\n    const newOrder = order.filter((el) => el.id !== itemId);\n    setOrder(newOrder);\n  };\n\n  const incQuantity = (itemId) => {\n    const newOrder = order.map((el) => {\n      if (el.id === itemId) {\n        const newQuantity = el.quantity + 1;\n        return {\n          ...el,\n          quantity: newQuantity,\n        };\n      } else {\n        return el;\n      }\n    });\n    setOrder(newOrder);\n  };\n\n  const decQuantity = (itemId) => {\n    const newOrder = order.map((el) => {\n      if (el.id === itemId) {\n        const newQuantity = el.quantity - 1;\n        return {\n          ...el,\n          quantity: newQuantity >= 0 ? newQuantity : 0,\n        };\n      } else {\n        return el;\n      }\n    });\n    setOrder(newOrder);\n  };\n\n  const handleBasketShow = () => {\n    setBasketShow(!isBasketShow);\n  };\n\n  const closeAlert = () => {\n    setAlertName('');\n  };\n\n  useEffect(function getGoods() {\n    fetch(API_URL, {\n      headers: {\n        'Authorization': API_KEY\n      }\n    }).then(response => response.json()).then(data => {\n      data.featured && setGoods(data.featured);\n      setLoading(false);\n    });\n  }, []);\n\n  return (\n    <main className=\"container content\">\n      <Cart quantity={order.length} handleBasketShow={handleBasketShow} />\n      {loading ? (\n        <Preloader />\n      ) : (\n        <GoodsList goods={goods} addToBasket={addToBasket} />\n      )}\n      {isBasketShow && (\n        <BasketList\n          order={order}\n          handleBasketShow={handleBasketShow}\n          removeFromBasket={removeFromBasket}\n          incQuantity={incQuantity}\n          decQuantity={decQuantity}\n        />\n      )}\n      {\n        alertName &&\n        <Alert name={alertName} closeAlert={closeAlert} />\n      }\n    </main>\n  );\n}\n\nexport { Shop }\n","const API_KEY = process.env.REACT_APP_API_KEY;\n\nconst API_URL = 'https://fortniteapi.io/v1/shop?lang=ru';\n\nexport { API_KEY, API_URL };\n","import { Header } from './components/Header';\nimport { Footer } from './components/Footer';\nimport { Shop } from './components/Shop';\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <Shop />\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}