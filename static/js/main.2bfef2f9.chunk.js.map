{"version":3,"sources":["components/Header.js","components/Footer.js","config.js","reducer.js","context.js","components/Preloader.js","components/GoodsItem.js","components/GoodsList.js","components/Cart.js","components/BasketItem.js","components/BasketList.js","components/Alert.js","components/Shop.js","App.js","index.js"],"names":["Header","className","href","id","target","rel","Footer","Date","getFullYear","reducer","state","type","payload","goods","loading","itemIndex","order","findIndex","orderItem","newOrder","newItem","quantity","map","index","alertName","name","el","newQuantity","filter","isBasketShow","ShopContext","createContext","initialState","ContextProvider","children","useReducer","value","dispatch","closeAlert","addToBasket","item","incQuantity","itemId","decQuantity","removeFromBasket","handleBasketShow","setGoods","data","Provider","Preloader","GoodsItem","props","description","price","full_background","useContext","src","alt","onClick","style","fontSize","GoodsList","length","Cart","Function","prototype","BasketItem","BasketList","totalPrice","reduce","sum","Alert","useEffect","timerId","setTimeout","clearTimeout","Shop","fetch","headers","process","then","response","json","featured","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2bfef2f9.chunk.js","sourcesContent":["function Header() {\n  return (\n      <nav className='green darken-1'>\n          <div className='nav-wrapper'>\n              <a href='/' className='brand-logo'>\n                  React Shop\n              </a>\n              <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n            <li><a href=\"https://alexanderkaymanov.github.io/react-shop-master/\" target=\"_blank\" rel=\"noreferrer\">Repo</a></li>\n        </ul>\n        </div>\n    </nav>\n  );\n}\n\nexport { Header };\n","function Footer() {\n  return <footer className=\"page-footer green lighten-4\">\n    <div className=\"footer-copyright\">\n      <div className=\"container\">\n      © {new Date().getFullYear()} Copyright Text\n      <a\n        className=\"grey-text text-lighten-4 right\"\n        href=\"https://alexanderkaymanov.github.io/react-shop-master/\"\n        target=\"_blank\" rel=\"noreferrer\">\n        Repo\n      </a>\n      </div>\n    </div>\n  </footer>\n}\n\nexport { Footer };\n","const API_KEY = process.env.REACT_APP_API_KEY;\n\nconst API_URL = 'https://fortniteapi.io/v1/shop?lang=ru';\n\nexport { API_KEY, API_URL };\n","export function reducer(state, { type, payload }) {\n  switch (type) {\n    case 'SET_GOODS':\n      return {\n        ...state,\n        goods: payload || [],\n        loading: false\n      };\n\n    case 'ADD_TO_BASKET': {\n      const itemIndex = state.order.findIndex(orderItem => orderItem.id === payload.id);\n\n      let newOrder = null;\n      if (itemIndex < 0) {\n        const newItem = {\n          ...payload,\n          quantity: 1\n        };\n        newOrder = [...state.order, newItem];\n      } else {\n        newOrder = state.order.map((orderItem, index) => {\n          if (index === itemIndex) {\n            return {\n              ...orderItem,\n              quantity: orderItem.quantity + 1\n            };\n          } else {\n            return orderItem;\n          }\n        });\n      }\n      return {\n        ...state,\n        order: newOrder,\n        alertName: payload.name\n      };\n    }\n\n    case 'INCREMENT_CQUANTITY':\n      return {\n        ...state,\n        order: state.order.map((el) => {\n          if (el.id === payload.id) {\n            const newQuantity = el.quantity + 1;\n            return {\n              ...el,\n              quantity: newQuantity,\n            };\n          } else {\n            return el;\n          }\n        })\n      };\n\n    case 'DECREMENT_CQUANTITY':\n      return {\n        ...state,\n        order: state.order.map((el) => {\n          if (el.id === payload.id) {\n            const newQuantity = el.quantity - 1;\n            return {\n              ...el,\n              quantity: newQuantity >= 0 ? newQuantity : 0,\n            };\n          } else {\n            return el;\n          }\n        })\n      };\n\n    case 'REMOVE_FROM_BASKET':\n      return {\n        ...state,\n        order: state.order.filter((el) => el.id !== payload.id)\n      };\n\n    case 'CLOSE_ALERT':\n      return {\n        ...state,\n        alertName: ''\n      };\n\n    case 'TOGGLE_BASKET':\n      return {\n        ...state,\n        isBasketShow: !state.isBasketShow\n      };\n\n    default:\n      return state;\n  }\n}\n","import { createContext, useReducer } from \"react\";\nimport { reducer } from './reducer'\n\nexport const ShopContext = createContext();\n\nconst initialState = {\n  goods: [],\n  loading: true,\n  order: [],\n  isBasketShow: false,\n  alertName: ''\n};\n\nexport const ContextProvider = ({ children }) => {\n  const [value, dispatch] = useReducer(reducer, initialState)\n\n  value.closeAlert = () => {\n    dispatch({ type: 'CLOSE_ALERT' });\n  };\n\n  value.addToBasket = (item) => {\n    dispatch({ type: 'ADD_TO_BASKET', payload: item });\n  };\n\n  value.incQuantity = (itemId) => {\n    dispatch({ type: 'INCREMENT_CQUANTITY', payload: { id: itemId } });\n  };\n\n  value.decQuantity = (itemId) => {\n    dispatch({ type: 'DECREMENT_CQUANTITY', payload: { id: itemId } });\n  };\n\n  value.removeFromBasket = (itemId) => {\n    dispatch({ type: 'REMOVE_FROM_BASKET', payload: { id: itemId } });\n  };\n\n  value.handleBasketShow = () => {\n    dispatch({ type: 'TOGGLE_BASKET' });\n  };\n\n  value.setGoods = (data) => {\n    dispatch({ type: 'SET_GOODS', payload: data });\n  }\n\n  return (<ShopContext.Provider value={value}>{children}</ShopContext.Provider>);\n};\n","function Preloader() {\n  return (\n    <div className=\"progress\">\n      <div className=\"indeterminate\"></div>\n    </div>);\n}\n\nexport { Preloader };\n","import { useContext } from 'react';\nimport { ShopContext } from '../context';\n\nfunction GoodsItem(props) {\n  const {\n    id,\n    name,\n    description,\n    price,\n    full_background\n  } = props;\n\n  const {addToBasket} = useContext(ShopContext);\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-image\">\n        <img src={full_background} alt={name} />\n      </div>\n      <div className=\"card-content\">\n        <span className=\"card-title\">{name}</span>\n        <p>{description}</p>\n      </div>\n      <div className=\"card-action\">\n        <button className=\"btn\" onClick={() => addToBasket({\n          id,\n          name,\n          price\n        })}>Купить</button>\n        <span className=\"right\" style={{ fontSize: '1.5rem' }}>{price} руб.</span>\n      </div>\n    </div>\n  );\n}\n\nexport { GoodsItem };\n","import {useContext} from 'react';\nimport {ShopContext} from '../context';\nimport { GoodsItem } from './GoodsItem';\n\nfunction GoodsList() {\n  const { goods = [] } = useContext(ShopContext);\n\n  if (!goods.length) {\n    return (\n      <h3>Здесь ничего нет!</h3>\n    );\n  }\n\n  return (\n    <div className=\"goods\">\n      {goods.map(item => (\n        <GoodsItem key={item.id} {...item} />\n      ))}\n    </div>\n  );\n}\n\nexport { GoodsList };\n","import { useContext } from 'react';\nimport { ShopContext } from '../context';\n\nfunction Cart() {\n  const { order, handleBasketShow = Function.prototype } = useContext(ShopContext);\n\n  const quantity = order.length;\n  return (\n    <div className=\"cart blue darken-4 white-text\" onClick={handleBasketShow}>\n      <i className=\"material-icons\">shopping_cart</i>\n      {quantity ? (<span className=\"cart-quantity\">{quantity}</span>) : null}\n    </div>\n  );\n}\n\nexport { Cart };\n","import React, { useContext } from 'react';\nimport { ShopContext } from '../context';\n\nfunction BasketItem(props) {\n  const {\n    id,\n    name,\n    price,\n    quantity\n  } = props;\n\n  const {removeFromBasket, incQuantity, decQuantity} = useContext(ShopContext);\n\n  return (\n    <li className=\"collection-item\">\n      {name}{' '}\n      <i\n        className='material-icons basket-quantity'\n        onClick={() => decQuantity(id)}\n      >\n        remove\n      </i>{' '}\n      x{quantity}{' '}\n      <i\n        className='material-icons basket-quantity'\n        onClick={() => incQuantity(id)}\n      >\n        add\n      </i>{' '}\n      = {price * quantity} руб.\n      <span\n        className='secondary-content'\n        onClick={() => removeFromBasket(id)}\n      >\n        <i className='material-icons basket-delete'>close</i>\n      </span>\n    </li>\n  );\n}\n\nexport { BasketItem };\n","import { useContext } from 'react';\nimport { ShopContext } from '../context';\nimport { BasketItem } from './BasketItem';\n\nfunction BasketList() {\n  const {\n    order = [],\n    handleBasketShow = Function.prototype\n  } = useContext(ShopContext);\n\n  const totalPrice = order.reduce((sum, el) => {\n    return (sum + el.price * el.quantity);\n  }, 0);\n\n  return (\n    <ul className=\"collection basket-list\">\n      <li className=\"collection-item active\">\n        Корзина\n      </li>\n      {\n        order.length ? order.map(item => (\n          <BasketItem\n            key={item.id}\n            {...item}\n          />\n        )) : <li className=\"collection-item\">Корзина пуста</li>\n      }\n      <li className=\"collection-item active\">\n        Общая стоимость: {totalPrice} руб.\n      </li>\n      <li className=\"collection-item\">\n        <button className=\"btn btn-small\">Оформить</button>\n      </li>\n      <i\n        className='material-icons basket-close'\n        onClick={handleBasketShow}\n      >\n        close\n      </i>\n    </ul>\n  );\n}\n\nexport { BasketList };\n","import { useEffect, useContext } from 'react';\nimport {ShopContext} from '../context';\n\nfunction Alert() {\n  const { alertName: name = '', closeAlert = Function.prototype } = useContext(ShopContext);\n\n  useEffect(() => {\n    const timerId = setTimeout(closeAlert, 3000);\n    return (() => {\n      clearTimeout(timerId);\n    });\n    // eslint-disable-next-line\n  }, [name]);\n  return (\n    <div className=\"\" id=\"toast-container\">\n      <div className=\"toast\">{name} добавлен(а)(ы) в корзину</div>\n    </div>\n  );\n}\n\nexport { Alert }\n","import { useEffect, useContext } from 'react';\nimport { API_KEY, API_URL } from '../config';\n\nimport {ShopContext} from '../context';\n\nimport { Preloader } from './Preloader';\nimport { GoodsList } from './GoodsList';\nimport { Cart } from './Cart';\nimport { BasketList } from './BasketList';\nimport {Alert} from './Alert';\n\nfunction Shop() {\n  const {\n    loading,\n    order,\n    isBasketShow,\n    alertName,\n    setGoods\n  } = useContext(ShopContext);\n\n  useEffect(function getGoods() {\n    fetch(API_URL, {\n      headers: {\n        'Authorization': API_KEY\n      }\n    })\n    .then(response => response.json())\n    .then(data => {\n      setGoods(data.featured);\n    });\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <main className=\"container content\">\n      <Cart quantity={order.length} />\n      {loading ? <Preloader /> : <GoodsList />}\n      {isBasketShow && <BasketList />}\n      {alertName && <Alert />\n      }\n    </main>\n  );\n}\n\nexport { Shop }\n","import { Header } from './components/Header';\nimport { Footer } from './components/Footer';\nimport { Shop } from './components/Shop';\n\nimport { ContextProvider } from './context';\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <ContextProvider>\n        <Shop />\n      </ContextProvider>\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}